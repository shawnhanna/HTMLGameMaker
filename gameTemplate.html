<html>
<head>
	<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script type="text/javascript">

	function myFunction()
	{
		$('#test').unbind('click');
		$("#test").click(function(){eval($("#text").val());});
	}

	var _selectedBlueprint = null;
	function setVelocityX(speed)
	{
		if (_selectedBlueprint == null)
		{
			alert("ERROR: setVelocityX run w/o a selected blueprint");
			return false;
		}
		else
		{
			///todo: fix to match engine
			_selectedBlueprint.velocity.X = speed;
		}
	}

	function setVelocityY(speed)
	{
		if (_selectedBlueprint == null)
		{
			alert("ERROR: setVelocityY run w/o a selected blueprint");
			return false;
		}
		else
		{
			///todo: fix to match engine
			_selectedBlueprint.velocity.Y = speed;
		}
	}

	function setVelocity(speed, radians)
	{
		if (_selectedBlueprint == null)
		{
			alert("ERROR: setVelocityX run w/o a selected blueprint");
			return false;
		}
		else
		{
			if (setVelocityX(speed*Math.cos(radians)))
			{
				if (setVelocityY(speed*Math.sin(radians)))
				{
					return true;
				}
			}
			alert("ERROR setting velocity with speed = "+speed + " and radians = " + radians);
			return false;
		}
	}

	function reverseVelX ()
	{
		if (_selectedBlueprint == null)
		{
			alert("ERROR: setVelocityX run w/o a selected blueprint");
			return false;
		}
		else
		{
			_selectedBlueprint.velocity.X = -1 * _selectedBlueprint.velocity.X;

		}
	}

	function setOnCollide()
	{
		if (_selectedBlueprint == null)
		{
			alert("ERROR: setOnCollide run w/o a selected blueprint");
			return false;
		}
		else
		{
			$('#test').off('onCollide');
			$("#test").on("onCollide", function()
			{
				eval($("#text").val());
			});
		}
	}

	function addVelX () {
		//velocity = $("#addVelX").val();
		velocity = prompt("Enter a velocity", "0");
		$("#text").val( $("#text").val() + "setVelocityX("+velocity+");\n");
	}
	function addVelY () {
		//velocity = $("#addVelX").val();
		velocity = prompt("Enter a velocity", "0");
		$("#text").val( $("#text").val() + "setVelocityY("+velocity+");\n");
	}

	function reverseX() {
		$("#text").val( $("#text").val() + "reverseX();\n");
	}
	function reverseY() {
		$("#text").val( $("#text").val() + "reverseY();\n");
	}

	function instantiateObject() {
		if (_selectedBlueprint == null)
		{
			alert("ERROR: setOnCollide run w/o a selected blueprint");
			return false;
		}
		else
		{
			///TODO: add instantiation code
		}
	}

	function createBlueprint () {
		//todo: add code for creation of new blueprint
	}


	</script>
</head>
<body>

<div id="editingArea">
<textarea id="text" rows="10" cols="20">
</textarea>

<br>
<button id="addVelX" onclick="addVelX();">Set velocity (x)</button>
<button id="addVelY" onclick="addVelY()">Set velocity (y)</button>
<button id="addVelA" onclick="addVelAngle()">Set velocity (speed & angle in radians)</button>
<br>
<button id="reverseXButton" onclick="reverseX();">Reverse velocity (x)</button>
<button id="reverseYButton" onclick="reverseY()">Reverse velocity (y)</button>
<br>
<button id="instantiateObject" onclick="instantiateObject();">Create project</button>
<button id="destroyObject" onclick="destroyObject()">Destroy project</button>

<br>
<button onclick="myFunction()">Click me</button>
</div>
</body>
</html>
